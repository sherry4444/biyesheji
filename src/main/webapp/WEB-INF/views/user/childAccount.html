<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>窝立方-子账户管理</title>
    <div th:replace="fragments/resourceLink :: resourceLink"></div>
    <script type="text/javascript" th:src="@{/resources/js/datatables_basic.js}" ></script>
    <script type="text/javascript" th:src="@{/resources/js/datatables.min.js}" ></script>
    <script type="text/javascript" th:src="@{/resources/js/select2.min.js}" ></script>
    <script type="text/javascript" th:src="@{/resources/js/ModelAlter.js}" ></script>
    <script type="text/javascript" th:src="@{/resources/js/childAccount.js}" ></script>
    <script th:src="@{/resources/js/uniform.min.js}"></script>
    <script th:src="@{/resources/js/sign.js}"></script>
    <script th:src="@{/resources/js/signup.js}"></script>
    <script th:src="@{/resources/js/login.js}"></script>
</head>
<body>
<div th:replace="fragments/header :: header">&nbsp;</div>
<div class="page-container" style="min-height: 518px;">
    <div class="page-content">
        <div th:replace="fragments/left :: userLeftItem">&nbsp;</div>
        <div class="content-wrapper">
            <div class="page-header page-header-default">
                <div class="page-header-content">
                    <div class="page-title">
                        <h4><i class="icon-arrow-left52 position-left"></i> <span class="text-semibold">子账号管理</span></h4>
                        <a class="heading-elements-toggle"><i class="icon-more"></i></a>
                    </div>
                </div>

            </div>
            <div class="content">
                <div class="panel panel-white r-panel-content">
                    <div class="panel-body">
                        <div id="DataTables_Table_2_wrapper" class="dataTables_wrapper no-footer">
                            <div class="datatable-header">

                                <form   th:action="@{/queryChildUser}" method="get">
                                    <div class="tabbable">
                                        <ul class="nav nav-tabs nav-tabs-solid nav-tabs-component">
                                            <li class="active">
                                                <a href="#datatable1" class="modifyAccount" style="display: none" data-toggle="tab">重设密码</a>
                                            </li>
                                            <li>
                                                <a href="#datatable2" class="delChild" data-toggle="tab">删除账号</a>
                                            </li>
                                            <li>
                                                <a href="#datatable3" data-toggle="tab" id="addAccount">添加账号</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div>
                                        <span class="help_holk">注意：子账号最多为5个</span>
                                    </div>
                                    <div class="dataTables_length" id="DataTables_Table_2_length">
                                        <label>
                                            <span>显示：</span>
                                            <select id="plan-page-num" th:attr="data-currentPage=${page.currentPage},data-url='queryChildUser'"
                                                    aria-controls="DataTables_Table_2" class="select2-hidden-accessible" tabindex="-1" aria-hidden="true">
                                                <option value="10">10</option>
                                                <option value="25">25</option>
                                                <option value="50">50</option>
                                                <option value="100">100</option>
                                            </select>
                                        </label>
                                    </div>

                                </form>
                            </div>
                            <div class="datatable-scroll">
                                <table class="table datatable-basic table-hover dataTable no-footer" id="DataTables_Table_2" role="grid" aria-describedby="DataTables_Table_2_info">
                                    <thead>
                                    <tr role="row">
                                        <th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_2" rowspan="1" colspan="1" aria-sort="ascending" aria-label="First Name: activate to sort column descending">
                                            <span>序号</span>
                                        </th>
                                        <th class="sorting" tabindex="0" aria-controls="DataTables_Table_2" rowspan="1" colspan="1" aria-label="Last Name: activate to sort column ascending">
                                            <span>账号名</span>
                                        </th>
                                        <th class="sorting" tabindex="0" aria-controls="DataTables_Table_2" rowspan="1" colspan="1" aria-label="Job Title: activate to sort column ascending">
                                            <span>选择</span>
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr role="row" th:each="user,userIndex:${childUserList}" th:class="${userIndex.index % 2 == 0 ? 'odd':'even'}">
                                        <td class="sorting_1">
                                            <span th:text="${userIndex.index+1}+' '+${user.remarks}"></span>
                                        </td>
                                        <td>
                                            <span th:text="${user.user.username}"></span>
                                        </td>
                                        <td>
                                            <div class="col-sm-6">
                                                <label>
                                                    <input type="checkbox" class="styled childId" th:attr="data-child-name=${user.childId},data-child-user=${user.childUserId},data-child-username=${user.user.username}"/>
                                                </label>
                                            </div>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>
                            <div class="datatable-footer">
                                <div class="dataTables_info" id="DataTables_Table_2_info" role="status" aria-live="polite">
                                    <span th:text="${'显示'+(page.dbIndex+1)+'到'+(page.dbIndex+childUserList.size())+'的'+childUserList.size()+'项'}"></span>
                                </div>
                                <div class="dataTables_paginate paging_simple_numbers" id="DataTables_Table_2_paginate">
                                    <a th:if="${page.currentPage} gt 1" th:class="|paginate_button previous${page.currentPage != 1?'':'disabled'}|" aria-controls="DataTables_Table_2" th:href="@{/qualifyProduct?(currentPage=${page.currentPage-1})}" data-dt-idx="0" tabindex="0" >
                                        <span>← </span>
                                    </a>
                                    <span>
                                        <a th:if="${page.currentPage != 1}" th:href="@{/qualifyProduct?(currentPage=1)}"
                                           class="paginate_button"  aria-controls="DataTables_Table_2" tabindex="0">
                                            <span>首页</span>
                                        </a>
                                        <a th:each="pageNo : ${#numbers.sequence(page.currentPage - 3 < 0 ? 0 : page.currentPage - 3, page.currentPage + 3 > page.totalPage - 3 ? page.totalPage - 1 : page.currentPage + 3)}"
                                           th:href="@{/queryChildUser?(currentPage=${pageNo+1})}"
                                           th:class="|paginate_button ${page.currentPage eq (pageNo+1)?'current':''}|" aria-controls="DataTables_Table_2" data-dt-idx="1" tabindex="0">
                                            <span th:text="${pageNo + 1}"></span>
                                        </a>
                                        <a th:if="${page.currentPage != page.totalPage}" th:href="@{/queryChildUser?(currentPage=${page.totalPage})}"
                                           class="paginate_button"  aria-controls="DataTables_Table_2" tabindex="0">
                                            <span>尾页</span>
                                        </a>
                                    </span>
                                    <a th:if="${page.currentPage} lt ${page.totalPage}" th:href="@{/queryChildUser?(currentPage=${page.nextPage})}"
                                       class="paginate_button next" aria-controls="DataTables_Table_2" data-dt-idx="3" tabindex="0" id="DataTables_Table_2_next">
                                        <span> →</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:replace="fragments/footer :: footer">&copy; 2013 The Static Templates</div>
</body>
</html>